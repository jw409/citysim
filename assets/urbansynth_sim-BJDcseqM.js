let n,l=null;function m(){return(l===null||l.byteLength===0)&&(l=new Uint8Array(n.memory.buffer)),l}let A=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});A.decode();const L=2146435072;let k=0;function N(t,e){return k+=e,k>=L&&(A=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),A.decode(),k=e),A.decode(m().subarray(t,t+e))}function w(t,e){return t=t>>>0,N(t,e)}function h(t){const e=n.__externref_table_alloc();return n.__wbindgen_export_2.set(e,t),e}function g(t,e){try{return t.apply(this,e)}catch(r){const _=h(r);n.__wbindgen_exn_store(_)}}function O(t,e){return t=t>>>0,m().subarray(t/1,t/1+e)}let d=0;const y=new TextEncoder;"encodeInto"in y||(y.encodeInto=function(t,e){const r=y.encode(t);return e.set(r),{read:t.length,written:r.length}});function F(t,e,r){if(r===void 0){const a=y.encode(t),p=e(a.length,1)>>>0;return m().subarray(p,p+a.length).set(a),d=a.length,p}let _=t.length,i=e(_,1)>>>0;const o=m();let s=0;for(;s<_;s++){const a=t.charCodeAt(s);if(a>127)break;o[i+s]=a}if(s!==_){s!==0&&(t=t.slice(s)),i=r(i,_,_=s+t.length*3,1)>>>0;const a=m().subarray(i+s,i+_),p=y.encodeInto(t,a);s+=p.written,i=r(i,_,s,1)>>>0}return d=s,i}let u=null;function f(){return(u===null||u.buffer.detached===!0||u.buffer.detached===void 0&&u.buffer!==n.memory.buffer)&&(u=new DataView(n.memory.buffer)),u}function b(t){return t==null}function j(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const i=t.description;return i==null?"Symbol":`Symbol(${i})`}if(e=="function"){const i=t.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(t)){const i=t.length;let o="[";i>0&&(o+=j(t[0]));for(let s=1;s<i;s++)o+=", "+j(t[s]);return o+="]",o}const r=/\[object ([^\]]+)\]/.exec(toString.call(t));let _;if(r&&r.length>1)_=r[1];else return toString.call(t);if(_=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:_}function C(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`)}function X(){n.main()}function M(t){const e=n.__wbindgen_export_2.get(t);return n.__externref_table_dealloc(t),e}function Y(t){const e=n.init(t);if(e[1])throw M(e[0])}function H(t,e){const r=n.init_with_seed(t,e);if(r[1])throw M(r[0])}function J(){n.tick()}function K(){return n.get_agent_states()}function P(){return n.get_traffic_data()}function Q(){n.start()}function Z(){n.pause()}function ee(t){n.set_speed(t)}function te(){return n.is_running()!==0}function re(){return n.get_simulation_time()}function ne(){return n.get_agent_count()>>>0}function _e(){const t=n.get_seed();return BigInt.asUintN(64,t)}const x=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>n.__wbg_adaptivescaler_free(t>>>0,1));class v{static __wrap(e){e=e>>>0;const r=Object.create(v.prototype);return r.__wbg_ptr=e,x.register(r,r.__wbg_ptr,r),r}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,x.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_adaptivescaler_free(e,0)}constructor(){const e=n.adaptivescaler_new();return this.__wbg_ptr=e>>>0,x.register(this,this.__wbg_ptr,this),this}static new_with_profile(e){C(e,c);var r=e.__destroy_into_raw();const _=n.adaptivescaler_new_with_profile(r);return v.__wrap(_)}update_fps(e,r){n.adaptivescaler_update_fps(this.__wbg_ptr,e,r)}set_scaling_enabled(e){n.adaptivescaler_set_scaling_enabled(this.__wbg_ptr,e)}force_profile_update(e){n.adaptivescaler_force_profile_update(this.__wbg_ptr,e)}get_current_profile(){const e=n.adaptivescaler_get_current_profile(this.__wbg_ptr);return c.__wrap(e)}get current_max_agents(){return n.adaptivescaler_current_max_agents(this.__wbg_ptr)>>>0}get current_fps(){return n.adaptivescaler_current_fps(this.__wbg_ptr)}get target_fps(){return n.adaptivescaler_target_fps(this.__wbg_ptr)}get fps_stability(){return n.adaptivescaler_fps_stability(this.__wbg_ptr)}get render_distance(){return n.adaptivescaler_render_distance(this.__wbg_ptr)}get scaling_enabled(){return n.adaptivescaler_scaling_enabled(this.__wbg_ptr)!==0}set_target_fps(e){n.adaptivescaler_set_target_fps(this.__wbg_ptr,e)}update_fps_simple(e){n.adaptivescaler_update_fps_simple(this.__wbg_ptr,e)}should_adapt(){return n.adaptivescaler_should_adapt(this.__wbg_ptr)!==0}get_adaptation_direction(){return n.adaptivescaler_get_adaptation_direction(this.__wbg_ptr)}}Symbol.dispose&&(v.prototype[Symbol.dispose]=v.prototype.free);const W=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>n.__wbg_devicebenchmark_free(t>>>0,1));class z{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,W.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_devicebenchmark_free(e,0)}constructor(){const e=n.devicebenchmark_new();return this.__wbg_ptr=e>>>0,W.register(this,this.__wbg_ptr,this),this}run_cpu_benchmark(){return n.devicebenchmark_run_cpu_benchmark(this.__wbg_ptr)}set_device_info(e,r,_,i){const o=F(i,n.__wbindgen_malloc,n.__wbindgen_realloc),s=d;n.devicebenchmark_set_device_info(this.__wbg_ptr,e,r,_,o,s)}generate_profile(){const e=n.devicebenchmark_generate_profile(this.__wbg_ptr);return c.__wrap(e)}get cpu_score(){return n.devicebenchmark_cpu_score(this.__wbg_ptr)}get refresh_rate(){return n.devicebenchmark_refresh_rate(this.__wbg_ptr)>>>0}get is_mobile(){return n.devicebenchmark_is_mobile(this.__wbg_ptr)!==0}get memory_mb(){return n.devicebenchmark_memory_mb(this.__wbg_ptr)}get gpu_tier(){let e,r;try{const _=n.devicebenchmark_gpu_tier(this.__wbg_ptr);return e=_[0],r=_[1],w(_[0],_[1])}finally{n.__wbindgen_free(e,r,1)}}run_cpu_test(){return n.devicebenchmark_cpu_score(this.__wbg_ptr)}test_memory_bandwidth(){return n.devicebenchmark_test_memory_bandwidth(this.__wbg_ptr)}get_recommended_profile(e,r,_){const i=n.devicebenchmark_get_recommended_profile(this.__wbg_ptr,e,r,_);return c.__wrap(i)}}Symbol.dispose&&(z.prototype[Symbol.dispose]=z.prototype.free);const R=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>n.__wbg_performanceprofile_free(t>>>0,1));class c{static __wrap(e){e=e>>>0;const r=Object.create(c.prototype);return r.__wbg_ptr=e,R.register(r,r.__wbg_ptr,r),r}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,R.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_performanceprofile_free(e,0)}constructor(){const e=n.performanceprofile_auto_detect();return this.__wbg_ptr=e>>>0,R.register(this,this.__wbg_ptr,this),this}static auto_detect(){const e=n.performanceprofile_auto_detect();return c.__wrap(e)}static for_ultra_gaming(){const e=n.performanceprofile_for_ultra_gaming();return c.__wrap(e)}static for_high_end(){const e=n.performanceprofile_for_high_end();return c.__wrap(e)}static for_standard(){const e=n.performanceprofile_for_standard();return c.__wrap(e)}static for_mobile(){const e=n.performanceprofile_for_mobile();return c.__wrap(e)}get target_fps(){return n.performanceprofile_target_fps(this.__wbg_ptr)>>>0}get max_agents(){return n.performanceprofile_max_agents(this.__wbg_ptr)>>>0}get render_distance(){return n.performanceprofile_render_distance(this.__wbg_ptr)}get update_frequency(){return n.performanceprofile_update_frequency(this.__wbg_ptr)>>>0}get lod_levels(){return n.performanceprofile_lod_levels(this.__wbg_ptr)>>>0}get culling_enabled(){return n.performanceprofile_culling_enabled(this.__wbg_ptr)!==0}set target_fps(e){n.performanceprofile_set_target_fps(this.__wbg_ptr,e)}set max_agents(e){n.performanceprofile_set_max_agents(this.__wbg_ptr,e)}set render_distance(e){n.performanceprofile_set_render_distance(this.__wbg_ptr,e)}set update_frequency(e){n.performanceprofile_set_update_frequency(this.__wbg_ptr,e)}set lod_levels(e){n.performanceprofile_set_lod_levels(this.__wbg_ptr,e)}set culling_enabled(e){n.performanceprofile_set_culling_enabled(this.__wbg_ptr,e)}}Symbol.dispose&&(c.prototype[Symbol.dispose]=c.prototype.free);const I=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>n.__wbg_wasmadaptivescaler_free(t>>>0,1));class T{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,I.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_wasmadaptivescaler_free(e,0)}constructor(){const e=n.adaptivescaler_new();return this.__wbg_ptr=e>>>0,I.register(this,this.__wbg_ptr,this),this}set_target_fps(e){n.adaptivescaler_set_target_fps(this.__wbg_ptr,e)}update_fps(e){n.adaptivescaler_update_fps_simple(this.__wbg_ptr,e)}should_adapt(){return n.wasmadaptivescaler_should_adapt(this.__wbg_ptr)!==0}get_adaptation_direction(){return n.wasmadaptivescaler_get_adaptation_direction(this.__wbg_ptr)}}Symbol.dispose&&(T.prototype[Symbol.dispose]=T.prototype.free);const D=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>n.__wbg_wasmdevicebenchmark_free(t>>>0,1));class B{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,D.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_wasmdevicebenchmark_free(e,0)}constructor(){const e=n.wasmdevicebenchmark_new();return this.__wbg_ptr=e>>>0,D.register(this,this.__wbg_ptr,this),this}run_cpu_test(){return n.devicebenchmark_cpu_score(this.__wbg_ptr)}test_memory_bandwidth(){return n.devicebenchmark_test_memory_bandwidth(this.__wbg_ptr)}get_recommended_profile(e,r,_){const i=n.wasmdevicebenchmark_get_recommended_profile(this.__wbg_ptr,e,r,_);return S.__wrap(i)}}Symbol.dispose&&(B.prototype[Symbol.dispose]=B.prototype.free);const E=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>n.__wbg_wasmperformanceprofile_free(t>>>0,1));class S{static __wrap(e){e=e>>>0;const r=Object.create(S.prototype);return r.__wbg_ptr=e,E.register(r,r.__wbg_ptr,r),r}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,E.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_wasmperformanceprofile_free(e,0)}constructor(){const e=n.performanceprofile_auto_detect();return this.__wbg_ptr=e>>>0,E.register(this,this.__wbg_ptr,this),this}get target_fps(){return n.performanceprofile_target_fps(this.__wbg_ptr)>>>0}get max_agents(){return n.performanceprofile_max_agents(this.__wbg_ptr)>>>0}get render_distance(){return n.performanceprofile_render_distance(this.__wbg_ptr)}get update_frequency(){return n.performanceprofile_update_frequency(this.__wbg_ptr)>>>0}}Symbol.dispose&&(S.prototype[Symbol.dispose]=S.prototype.free);const $=new Set(["basic","cors","default"]);async function V(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(_){if(t.ok&&$.has(t.type)&&t.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",_);else throw _}const r=await t.arrayBuffer();return await WebAssembly.instantiate(r,e)}else{const r=await WebAssembly.instantiate(t,e);return r instanceof WebAssembly.Instance?{instance:r,module:t}:r}}function U(){const t={};return t.wbg={},t.wbg.__wbg_Error_e17e777aac105295=function(e,r){return Error(w(e,r))},t.wbg.__wbg_Number_998bea33bd87c3e0=function(e){return Number(e)},t.wbg.__wbg_call_13410aac570ffff7=function(){return g(function(e,r){return e.call(r)},arguments)},t.wbg.__wbg_call_a5400b25a865cfd8=function(){return g(function(e,r,_){return e.call(r,_)},arguments)},t.wbg.__wbg_crypto_574e78ad8b13b65f=function(e){return e.crypto},t.wbg.__wbg_done_75ed0ee6dd243d9d=function(e){return e.done},t.wbg.__wbg_error_7534b8e9a36f1ab4=function(e,r){let _,i;try{_=e,i=r,console.error(w(e,r))}finally{n.__wbindgen_free(_,i,1)}},t.wbg.__wbg_getRandomValues_b8f5dbd5f3995a9e=function(){return g(function(e,r){e.getRandomValues(r)},arguments)},t.wbg.__wbg_get_0da715ceaecea5c8=function(e,r){return e[r>>>0]},t.wbg.__wbg_get_458e874b43b18b25=function(){return g(function(e,r){return Reflect.get(e,r)},arguments)},t.wbg.__wbg_getwithrefkey_1dc361bd10053bfe=function(e,r){return e[r]},t.wbg.__wbg_instanceof_ArrayBuffer_67f3012529f6a2dd=function(e){let r;try{r=e instanceof ArrayBuffer}catch{r=!1}return r},t.wbg.__wbg_instanceof_Uint8Array_9a8378d955933db7=function(e){let r;try{r=e instanceof Uint8Array}catch{r=!1}return r},t.wbg.__wbg_isArray_030cce220591fb41=function(e){return Array.isArray(e)},t.wbg.__wbg_isSafeInteger_1c0d1af5542e102a=function(e){return Number.isSafeInteger(e)},t.wbg.__wbg_iterator_f370b34483c71a1c=function(){return Symbol.iterator},t.wbg.__wbg_length_186546c51cd61acd=function(e){return e.length},t.wbg.__wbg_length_6bb7e81f9d7713e4=function(e){return e.length},t.wbg.__wbg_log_226be65415709b56=function(e,r,_){console.log(e,r,_)},t.wbg.__wbg_log_6c7b5f4f00b8ce3f=function(e){console.log(e)},t.wbg.__wbg_log_7917fde260a8fd39=function(e,r){console.log(e,r)},t.wbg.__wbg_msCrypto_a61aeb35a24c1329=function(e){return e.msCrypto},t.wbg.__wbg_new_19c25a3f2fa63a02=function(){return new Object},t.wbg.__wbg_new_1f3a344cf3123716=function(){return new Array},t.wbg.__wbg_new_2ff1f68f3676ea53=function(){return new Map},t.wbg.__wbg_new_638ebfaedbf32a5e=function(e){return new Uint8Array(e)},t.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},t.wbg.__wbg_newnoargs_254190557c45b4ec=function(e,r){return new Function(w(e,r))},t.wbg.__wbg_newwithlength_a167dcc7aaa3ba77=function(e){return new Uint8Array(e>>>0)},t.wbg.__wbg_next_5b3530e612fde77d=function(e){return e.next},t.wbg.__wbg_next_692e82279131b03c=function(){return g(function(e){return e.next()},arguments)},t.wbg.__wbg_node_905d3e251edff8a2=function(e){return e.node},t.wbg.__wbg_now_1e80617bcee43265=function(){return Date.now()},t.wbg.__wbg_process_dc0fbacc7c1c06f7=function(e){return e.process},t.wbg.__wbg_prototypesetcall_3d4a26c1ed734349=function(e,r,_){Uint8Array.prototype.set.call(O(e,r),_)},t.wbg.__wbg_randomFillSync_ac0988aba3254290=function(){return g(function(e,r){e.randomFillSync(r)},arguments)},t.wbg.__wbg_require_60cc747a6bc5215a=function(){return g(function(){return module.require},arguments)},t.wbg.__wbg_set_3f1d0b984ed272ed=function(e,r,_){e[r]=_},t.wbg.__wbg_set_90f6c0f7bd8c0415=function(e,r,_){e[r>>>0]=_},t.wbg.__wbg_set_b7f1cf4fae26fe2a=function(e,r,_){return e.set(r,_)},t.wbg.__wbg_stack_0ed75d68575b0f3c=function(e,r){const _=r.stack,i=F(_,n.__wbindgen_malloc,n.__wbindgen_realloc),o=d;f().setInt32(e+4*1,o,!0),f().setInt32(e+4*0,i,!0)},t.wbg.__wbg_static_accessor_GLOBAL_8921f820c2ce3f12=function(){const e=typeof global>"u"?null:global;return b(e)?0:h(e)},t.wbg.__wbg_static_accessor_GLOBAL_THIS_f0a4409105898184=function(){const e=typeof globalThis>"u"?null:globalThis;return b(e)?0:h(e)},t.wbg.__wbg_static_accessor_SELF_995b214ae681ff99=function(){const e=typeof self>"u"?null:self;return b(e)?0:h(e)},t.wbg.__wbg_static_accessor_WINDOW_cde3890479c675ea=function(){const e=typeof window>"u"?null:window;return b(e)?0:h(e)},t.wbg.__wbg_subarray_70fd07feefe14294=function(e,r,_){return e.subarray(r>>>0,_>>>0)},t.wbg.__wbg_value_dd9372230531eade=function(e){return e.value},t.wbg.__wbg_versions_c01dfd4722a88165=function(e){return e.versions},t.wbg.__wbg_wbindgenbooleanget_3fe6f642c7d97746=function(e){const r=e,_=typeof r=="boolean"?r:void 0;return b(_)?16777215:_?1:0},t.wbg.__wbg_wbindgendebugstring_99ef257a3ddda34d=function(e,r){const _=j(r),i=F(_,n.__wbindgen_malloc,n.__wbindgen_realloc),o=d;f().setInt32(e+4*1,o,!0),f().setInt32(e+4*0,i,!0)},t.wbg.__wbg_wbindgenin_d7a1ee10933d2d55=function(e,r){return e in r},t.wbg.__wbg_wbindgenisfunction_8cee7dce3725ae74=function(e){return typeof e=="function"},t.wbg.__wbg_wbindgenisobject_307a53c6bd97fbf8=function(e){const r=e;return typeof r=="object"&&r!==null},t.wbg.__wbg_wbindgenisstring_d4fa939789f003b0=function(e){return typeof e=="string"},t.wbg.__wbg_wbindgenisundefined_c4b71d073b92f3c5=function(e){return e===void 0},t.wbg.__wbg_wbindgenjsvallooseeq_9bec8c9be826bed1=function(e,r){return e==r},t.wbg.__wbg_wbindgennumberget_f74b4c7525ac05cb=function(e,r){const _=r,i=typeof _=="number"?_:void 0;f().setFloat64(e+8*1,b(i)?0:i,!0),f().setInt32(e+4*0,!b(i),!0)},t.wbg.__wbg_wbindgenstringget_0f16a6ddddef376f=function(e,r){const _=r,i=typeof _=="string"?_:void 0;var o=b(i)?0:F(i,n.__wbindgen_malloc,n.__wbindgen_realloc),s=d;f().setInt32(e+4*1,s,!0),f().setInt32(e+4*0,o,!0)},t.wbg.__wbg_wbindgenthrow_451ec1a8469d7eb6=function(e,r){throw new Error(w(e,r))},t.wbg.__wbindgen_cast_2241b6af4c4b2941=function(e,r){return w(e,r)},t.wbg.__wbindgen_cast_cb9088102bce6b30=function(e,r){return O(e,r)},t.wbg.__wbindgen_cast_d6cd19b81560fd6e=function(e){return e},t.wbg.__wbindgen_init_externref_table=function(){const e=n.__wbindgen_export_2,r=e.grow(4);e.set(0,void 0),e.set(r+0,void 0),e.set(r+1,null),e.set(r+2,!0),e.set(r+3,!1)},t}function q(t,e){return n=t.exports,G.__wbindgen_wasm_module=e,u=null,l=null,n.__wbindgen_start(),n}function ie(t){if(n!==void 0)return n;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module:t}=t:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const e=U();t instanceof WebAssembly.Module||(t=new WebAssembly.Module(t));const r=new WebAssembly.Instance(t,e);return q(r,t)}async function G(t){if(n!==void 0)return n;typeof t<"u"&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),typeof t>"u"&&(t=new URL("/citysim/assets/urbansynth_sim_bg-jrPee_An.wasm",import.meta.url));const e=U();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:r,module:_}=await V(await t,e);return q(r,_)}export{v as AdaptiveScaler,z as DeviceBenchmark,c as PerformanceProfile,T as WasmAdaptiveScaler,B as WasmDeviceBenchmark,S as WasmPerformanceProfile,G as default,ne as get_agent_count,K as get_agent_states,_e as get_seed,re as get_simulation_time,P as get_traffic_data,Y as init,ie as initSync,H as init_with_seed,te as is_running,X as main,Z as pause,ee as set_speed,Q as start,J as tick};
